<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录验证</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="stylesheet" href="../static/framework/layui/css/layui.css" th:href="@{/framework/layui/css/layui.css}" media="all"/>
    <script th:src="@{/framework/jquery/jquery-3.4.1.min.js}" src="../static/framework/jquery/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="../static/css/login.css" th:href="@{/css/login.css}"/>
</head>
<body class="login-bg">
<div class="login layui-anim layui-anim-up">
    <div class="message">登录验证</div>
    <div id="darkbannerwrap"></div>
    <div class="formMessageBox">
        <div>
            检查到您的使用存在风险,请填写验证码验证。<br/>
            验证码默认发送到您的邮箱(邮箱未填写，将发送到手机)。<br/>
        </div>
        <hr class="hr15">
    </div>
    <form th:if="${method} != null" class="layui-form" action="/verification" th:method="${method}" th:action="${requestUrl}">
        <input type="hidden" name="is_v" value="true"/>
        <input type="number" name="v_code" placeholder="验证码" th:maxlength="${codeLength}" lay-verify="required" class="layui-input"/>
        <hr class="hr15">
        <a class="vButton" href="javascript:;" clickUrl="/verification?v_type=email"
           th:clickUrl="|${requestUrl}?v_type=email|" title="验证码5分钟有效" th:title="|验证码${codeLifeTime}分钟有效|">邮箱验证码</a>
        &nbsp;
        <a class="vButton" href="javascript:;" clickUrl="/verification?v_type=mobile"
           th:clickUrl="|${requestUrl}?v_type=mobile|" title="验证码5分钟有效" th:title="|验证码${codeLifeTime}分钟有效|">手机验证码</a>
        <hr class="hr15">
        <input type="submit" lay-submit style="width:100%;" value="提交"/>
    </form>
</div>
<script th:src="@{/framework/layui/layui.js}" charset="UTF-8" src="../static/framework/layui/layui.js"></script>
<script>
$(function (){
    layui.use('form', function(){});
    $(".vButton").click(function(){
        $.get($(this).attr("clickUrl"));
        layer.msg('验证码发送中...');
    });
});
</script>
</body>
</html>